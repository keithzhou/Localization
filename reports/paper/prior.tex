\section{Background}
Acoustic localization has been researched extensively in the literature. Localization techniques can be broadly put into two categories:
\begin{enumerate}
\item Location Template Matching (LTM) based approaches.
\item Time Difference of Arrival (TDOA) based approaches.
\end{enumerate}

\subsection{LTM}
In LTM based approaches, acoustic templates of locations are first stored in the system during a ``training'' phase. Then, incoming acoustic waveform is compared with stored templates. Localization result is the location that has the best matching template. Different ways of extracting templates from raw acoustic source and different similarity measures have been investigated in the past. 

\cite{extended:tusi} and \cite{ltm:pham} investigated using max value from corss-correlation as similarity measure to localize user tap on interactive surface. \cite{ltm:lpc} used L2 distance in Linear Predictive Coding coeeficient space as similarity measure to localize taps on surfaces. \cite{ltm:tusi2} further explored accuracy improvement by using multiple templates for each location and speed improvement by merging multiple templates into one representative templates.

The requirement of having a template for each location to be detected makes this approach too restrictive for our project, since we want the drawing to be continuous in the 2D region.  Moreover, the need to recalibrate all locations during setup is too curbursome for end users in a portable drawing application. Therefore, our main focus is on TDOA approaches.

\subsection{TDOA}
Points with the same TDOA to two fixed points on a plane form a hyperbola. With more than two microphones, intersection of hyperbola curves generated by each pair of microphoens give the source location.  Localization relies on accurate estimate of delay differences between microphones. 

In \cite{tdoa:ppp}, authors used eight microphnes mounted on corners of a ping pong table to localize the point where the ping pong ball hits the table. They used a threshold to determine the arrival time of acoustic signal. This approach works well in noise free environment but performance degrades with background noise. It also suffers from dispersive deflections that arrives before the main wavefront. To make it more robust, authors in \cite{tdoa:mit3} extracted descriptive parameters for each significant peak(e.g., peak height, width, mean arrival time). The algorithm then used extracted parameters to predict arrival time with a second order polynomial, the parameters of which were fitted during calibration at fixed locations.

In~\cite{tdoa:mit2, tdoa:3}, authors explored using cross-correlation to measure the TDOA between signals.

Generalized Cross Correlation(GCC) provides a framework to estimate delay differences $t_0$ between two signals $x_1(t)$ and $x_2(t)$:
\begin{eqnarray} \label{eq:gcc}
t_0 &=& \arg\max_{\tau} R_{x_1x_2}(\tau) \\
R_{x_1x_2}(\tau) &=& \int_{-\infty}^\infty W(\omega) X_1(\omega) X_2^{*}(\omega) e^{j\omega\tau} d\omega
\end{eqnarray}
, where $X_1(\omega)$ and $X_2(\omega)$ are Fourier Transform of $x_1(t)$ and $x_2(t)$. $W(\omega)$ provides a way to prefilter signals passed to cross correlation estimator. We experimented with three ways of prefiltering the signal:
\begin{description}[\IEEEsetlabelwidth{Very very long label}\IEEEusemathlabelsep]
\item[GCC] $W(\omega) = 1$. No prefiltering is done. This is normal cross correlation.
\item[GCC\_PHAT] $W(\omega) = \frac{1}{\left|X_1(\omega)X_2^{*}(\omega)\right|}$. Each frequency is divideded by its magnitude. Only phase information contributes to delay estimation.
\item[GCC\_PHAT\_SQRT] $W(\omega) = \frac{1}{\left|X_1(\omega)X_2^*(\omega)\right|^{0.5}}$. This is somewhere between GCC and GCC\_PHAT. part of magnitude information is included in delay estimation.
\end{description}
